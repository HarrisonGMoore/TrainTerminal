<!DOCTYPE html>
<!--  This site was created in Webflow. http://www.webflow.com  -->
<!--  Last Published: Wed Apr 24 2019 01:08:13 GMT+0000 (UTC)  -->
<html data-wf-page="5c91581fdedf0e9a41a40540" data-wf-site="5c91581fdedf0e78c8a4053f">
<head>
  <meta charset="utf-8">
  <title>firebase_hw</title>
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">
  <link href="css/normalize.css" rel="stylesheet" type="text/css">
  <link href="css/webflow.css" rel="stylesheet" type="text/css">
  <link href="css/firebase-hw.webflow.css" rel="stylesheet" type="text/css">
  <!-- [if lt IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" type="text/javascript"></script><![endif] -->
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <link href="https://daks2k3a4ib2z.cloudfront.net/img/favicon.ico" rel="shortcut icon" type="image/x-icon">
  <link href="https://daks2k3a4ib2z.cloudfront.net/img/webclip.png" rel="apple-touch-icon">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>
<body>
  <div class="mainbody w-container">
    <div class="headingdiv">
      <h1 class="headertitle">I Like Trains</h1>
      <h2 class="headersubtitle">Thomas The Tank Engine Would be Proud</h2>
    </div>
    <div class="traininfobox">
      <div class="boxheader">
        <h3 class="traininfoheader">Train Info</h3>
      </div>
      <div class="traintablediv">
        <table class="table" id="trainInfo">
            <thead>
              <tr>
                <th scope="col">Train Name</th>
                <th scope="col">Destination</th>
                <th scope="col">Frequency (min)</th>
                <th scope="col">Next Arrival</th>
                <th scope="col">Minutes Away</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <th scope="row"></th>
                <td></td>
                <td></td>
                <td></td>
              </tr>
            </tbody>
          </table>
      </div>
    </div>
    <div class="addtrainbox">
      <div class="boxheader">
        <h3 class="boxheader">Add Train</h3>
      </div>
      <div class="form-block w-form">
        Train Name</label><input type="text" id="trainName" data-name="Name" maxlength="256" value="" class="train_info_form_textbox w-input">
        Destination</label><input type="text" id="trainDestination" name="name-4" data-name="Name 4" maxlength="256" value="" class="train_info_form_textbox w-input">
        First Train Time minutes</label><input type="text" id="firstTrainTimeMinutes" name="name-3" data-name="Name 3" maxlength="256" value="" class="train_info_form_textbox w-input">
        First Train Time hours</label><input type="text" id="firstTrainTimeHours" name="name-3" data-name="Name 3" maxlength="256" value="" class="train_info_form_textbox w-input">
        Frequency (min)</label><input type="text" id="trainFrequency" name="name-2" data-name="Name 2" maxlength="256" value="" class="train_info_form_textbox w-input">
        <button onclick="addTrainInfo()">Submit</button></form>
      </div>
    </div>
  </div>
  <script src="js/webflow.js" type="text/javascript"></script>
  <script>
    $(document).ready(function() {

  var config = {
    apiKey: "",
    authDomain: "",
    databaseURL: "",
    projectId: "",
    storageBucket: "",
  };
  firebase.initializeApp(config);
});

  function addTrainInfo() {
    var trainName = document.getElementById("trainName").value;
    var trainDestination = document.getElementById('trainDestination').value;
    var firstTrainTimeMinutes = document.getElementById("firstTrainTimeMinutes").value;
    var firstTrainTimeHours = document.getElementById("firstTrainTimeHours").value;
    var trainFrequency = document.getElementById("trainFrequency").value;

    var today = new Date();
    var currentHours = today.getHours();
    var currentMin = today.getMinutes();
    var trainNextArival = function() {
      var addonminutes =  (currentMin + firstTrainTimeMinutes) % 60;
      var addonhours = (currentHours + firstTrainTimeHours) % 24;
      var arival = [];
      if (currentMin + firstTrainTimeMinutes > 60) {
        addonhours = addonhours + Math.trunc(trainFrequency / 60);
        arial.push(addonminutes);
      }
      if (currentHours + firstTrainTimeHours > 24) {
        arrival.push(addonhours);
      }
      else {
        arival.push(addonhours);
      }
      return arival;
    }
    var minutesAway = function() {

    }
    var tableRef = document.getElementById('myTable').getElementsByTagName('tbody')[document.getElementById("trainInfo").rows.length];
    var newRow  = tableRef.insertRow(tableRef.rows.length);
    
    var nameCell = row.insertCell(0);
    var destinationCell = row.insertCell(1);
    var frequencyCell = row.insertCell(2);
    var trainNextArivalCell = row.insertCell(3);
    var minutesAwayCell = row.insertCell(4)

    nameCell.innerHTML = trainName;
    destinationCell.innerHTML = trainDestination;
    frequencyCell.innerHTML = trainFrequency;
    trainNextArivalCell.innerHTML = trainNextArival;

  var newTrainRow = {
      name : nameCell,
      destination :destinationCell,
      frequency : frequencyCell,
      nextArival : trainNextArivalCell,
      minutesAway : minutesAwayCell,
  };

  database.ref().on(function() {
    datab.ref.push(newTrainRow);
  });
}
  </script>
</body>
</html>